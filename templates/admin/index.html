{% extends 'unfold/layouts/base_simple.html' %}

{% load cache unfold i18n %}

{% block breadcrumbs %}{% endblock %}

{% block title %}
    {% if subtitle %}
        {{ subtitle }} |
    {% endif %}

    {{ title }} | {{ site_title|default:_('Django site admin') }}
{% endblock %}

{% block extrahead %}
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.css" rel="stylesheet" />
{% endblock extrahead %}

{% block branding %}
    <h1 id="site-name">
        <a href="{% url 'admin:index' %}">
            {{ site_header|default:_('Django administration') }}
        </a>
    </h1>
{% endblock %}

{% block content %}
    
    <div class="mb-4 border-b border-gray-200 dark:border-gray-700">
        <ul class="flex flex-wrap -mb-px text-sm font-medium text-center" id="default-tab" data-tabs-toggle="#default-tab-content" role="tablist">
            <li class="me-2" role="presentation">
                <button class="flex gap-2 p-4 border-b-2 rounded-t-lg" id="general-tab" data-tabs-target="#general" type="button" role="tab" aria-controls="general" aria-selected="false">
                    <svg class="w-5 h-5 " aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15v4m6-6v6m6-4v4m6-6v6M3 11l6-5 6 5 5.5-5.5"/>
                    </svg>
                    General Stats
                </button>
            </li>
            <li class="me-2" role="presentation">
                <button class="flex gap-2 p-4 border-b-2 rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300" id="user-tab" data-tabs-target="#user" type="button" role="tab" aria-controls="user" aria-selected="false">
                    <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="square" stroke-linejoin="round" stroke-width="2" d="M10 19H5a1 1 0 0 1-1-1v-1a3 3 0 0 1 3-3h2m10 1a3 3 0 0 1-3 3m3-3a3 3 0 0 0-3-3m3 3h1m-4 3a3 3 0 0 1-3-3m3 3v1m-3-4a3 3 0 0 1 3-3m-3 3h-1m4-3v-1m-2.121 1.879-.707-.707m5.656 5.656-.707-.707m-4.242 0-.707.707m5.656-5.656-.707.707M12 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
                    </svg>
                    Users Stats
                </button>
            </li>
            <li class="me-2" role="presentation">
                <button class="flex gap-2 p-4 border-b-2 rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300" id="product-tab" data-tabs-target="#product" type="button" role="tab" aria-controls="product" aria-selected="false">
                    <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linejoin="round" stroke-width="2" d="M10 12v1h4v-1m4 7H6a1 1 0 0 1-1-1V9h14v9a1 1 0 0 1-1 1ZM4 5h16a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Z"/>
                    </svg>
                    Products Stats
                </button>
            </li>
            <li class="me-2" role="presentation">
                <button class="flex gap-2 p-4 border-b-2 rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300" id="rfq-tab" data-tabs-target="#rfq" type="button" role="tab" aria-controls="rfq" aria-selected="false">
                    <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8h6m-6 4h6m-6 4h6M6 3v18l2-2 2 2 2-2 2 2 2-2 2 2V3l-2 2-2-2-2 2-2-2-2 2-2-2Z"/>
                    </svg>
                    RFQ Stats
                </button>
            </li>
        </ul>
    </div>
    <div id="default-tab-content">
        <div class="hidden p-4 rounded-lg bg-gray-50 dark:bg-gray-800" id="general" role="tabpanel" aria-labelledby="general-tab">
            <h2 class="text-3xl font-extrabold dark:text-white mb-5 mt-3">
                Average Income
            </h2>
            {% component "unfold/components/flex.html" with class="gap-8 mb-8 flex-col lg:flex-row" %}
                {% component "unfold/components/card.html" with class="lg:w-1/3 shadow-xl" %}
                    {% component "unfold/components/text.html" with class="flex gap-2 items-center" %}
                        <span>
                            <svg class="w-8 h-8" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v15a1 1 0 0 0 1 1h15M8 16l2.5-5.5 3 3L17.273 7 20 9.667"/>
                            </svg>
                        </span>
                        <b>
                            Today
                        </b>
                    {% endcomponent %}

                    {% component "unfold/components/title.html" with class="mt-3" %}
                        {{general.avg.day}} S.A.R
                    {% endcomponent %}
                {% endcomponent %}

                {% component "unfold/components/card.html" with class="lg:w-1/3 shadow-xl" %}
                    {% component "unfold/components/text.html" with class="flex gap-2 items-center" %}
                        <span>
                            <svg class="w-8 h-8" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 10h16m-8-3V4M7 7V4m10 3V4M5 20h14a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1Zm3-7h.01v.01H8V13Zm4 0h.01v.01H12V13Zm4 0h.01v.01H16V13Zm-8 4h.01v.01H8V17Zm4 0h.01v.01H12V17Zm4 0h.01v.01H16V17Z"/>
                            </svg>
                        </span>
                        <b>
                            This Month
                        </b>
                    {% endcomponent %}

                    {% component "unfold/components/title.html" with class="mt-3" %}
                        {{general.avg.month}} S.A.R
                    {% endcomponent %}
                {% endcomponent %}

                {% component "unfold/components/card.html" with class="lg:w-1/3 shadow-xl" %}
                    {% component "unfold/components/text.html" with class="flex gap-2 items-center" %}
                        <span>
                            <svg class="w-8 h-8" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                                <path fill-rule="evenodd" d="M9 15a6 6 0 1 1 12 0 6 6 0 0 1-12 0Zm3.845-1.855a2.4 2.4 0 0 1 1.2-1.226 1 1 0 0 1 1.992-.026c.426.15.809.408 1.111.749a1 1 0 1 1-1.496 1.327.682.682 0 0 0-.36-.213.997.997 0 0 1-.113-.032.4.4 0 0 0-.394.074.93.93 0 0 0 .455.254 2.914 2.914 0 0 1 1.504.9c.373.433.669 1.092.464 1.823a.996.996 0 0 1-.046.129c-.226.519-.627.94-1.132 1.192a1 1 0 0 1-1.956.093 2.68 2.68 0 0 1-1.227-.798 1 1 0 1 1 1.506-1.315.682.682 0 0 0 .363.216c.038.009.075.02.111.032a.4.4 0 0 0 .395-.074.93.93 0 0 0-.455-.254 2.91 2.91 0 0 1-1.503-.9c-.375-.433-.666-1.089-.466-1.817a.994.994 0 0 1 .047-.134Zm1.884.573.003.008c-.003-.005-.003-.008-.003-.008Zm.55 2.613s-.002-.002-.003-.007a.032.032 0 0 1 .003.007ZM4 14a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0v-4a1 1 0 0 1 1-1Zm3-2a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0v-6a1 1 0 0 1 1-1Zm6.5-8a1 1 0 0 1 1-1H18a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0v-.796l-2.341 2.049a1 1 0 0 1-1.24.06l-2.894-2.066L6.614 9.29a1 1 0 1 1-1.228-1.578l4.5-3.5a1 1 0 0 1 1.195-.025l2.856 2.04L15.34 5h-.84a1 1 0 0 1-1-1Z" clip-rule="evenodd"/>
                            </svg>
                        </span>
                        <b>
                            This Year
                        </b>
                    {% endcomponent %}

                    {% component "unfold/components/title.html" with class="mt-3" %}
                        {{general.avg.year}} S.A.R
                    {% endcomponent %}
                {% endcomponent %}

            {% endcomponent %}


            <h2 class="text-3xl font-extrabold dark:text-white mb-5 mt-3">
                Total Income
            </h2>
            <ul class="flex flex-wrap -mb-px text-sm font-medium text-center" id="default-tab" data-tabs-toggle="#default-tab-content" role="tablist">
                <li class="me-2" role="presentation">
                    <button class="flex gap-2 p-4 border-b-2 rounded-t-lg" id="general-daily-tab" data-tabs-target="#general-daily" type="button" role="tab" aria-controls="general-daily" aria-selected="false">
                        Daily
                    </button>
                </li>
                <li class="me-2" role="presentation">
                    <button class="flex gap-2 p-4 border-b-2 rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300" id="general-monthly-tab" data-tabs-target="#general-monthly" type="button" role="tab" aria-controls="general-monthly" aria-selected="false">
                        Monthly
                    </button>
                </li>
                <li class="me-2" role="presentation">
                    <button class="flex gap-2 p-4 border-b-2 rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300" id="general-yearly-tab" data-tabs-target="#general-yearly" type="button" role="tab" aria-controls="general-yearly" aria-selected="false">
                        Yearly
                    </button>
                </li>
            </ul>
            <div id="default-tab-content">
                <div class="hidden p-4 rounded-lg bg-gray-50 dark:bg-gray-800" id="general-daily" role="tabpanel" aria-labelledby="general-daily-tab">
                    <div class="my-4">
                        {% include "admin/components/line_chart.html" with id="g_ch_daily" x_data=general.daily_income.days y_data=general.daily_income.values data_title="Income (S.A.R)" chart_title="Total Income by Day" %}
                    </div>
                </div>
                <div class="hidden p-4 rounded-lg bg-gray-50 dark:bg-gray-800" id="general-monthly" role="tabpanel" aria-labelledby="general-monthly-tab">
                    <div class="my-4">
                        {% include "admin/components/line_chart.html" with id="g_ch_monthly" x_data=general.monthly_income.months y_data=general.monthly_income.values data_title="Income (S.A.R)" chart_title="Total Income by Month" %}
                    </div>
                </div>
                <div class="hidden p-4 rounded-lg bg-gray-50 dark:bg-gray-800" id="general-yearly" role="tabpanel" aria-labelledby="general-yearly-tab">
                    <div class="my-4">
                        {% include "admin/components/line_chart.html" with id="g_ch_yearly" x_data=general.yearly_income.years y_data=general.yearly_income.values data_title="Income (S.A.R)" chart_title="Total Income by Year" %}
                    </div>
                </div>
            </div>
        </div>

        <div class="hidden p-4 rounded-lg bg-gray-50 dark:bg-gray-800" id="user" role="tabpanel" aria-labelledby="user-tab">
            Loading ...
        </div>
        <div class="hidden p-4 rounded-lg bg-gray-50 dark:bg-gray-800" id="product" role="tabpanel" aria-labelledby="product-tab">
            Loading ...
        </div>
        <div class="hidden p-4 rounded-lg bg-gray-50 dark:bg-gray-800" id="rfq" role="tabpanel" aria-labelledby="rfq-tab">
            Loading ...
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

{% endblock %}